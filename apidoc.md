# MyStanford 后端 API 文档

所有接口前缀均为 `/api`

---

## 人物管理

### 1. 添加人物
- **路径**：`/api/person/add`
- **方法**：POST
- **描述**：添加一个新人物。
- **请求参数（JSON 或表单）**：
    | 参数名       | 类型   | 必填 | 说明     |
    |------------|--------|------|----------|
    | name       | string | 是   | 人物姓名 |
    | description| string | 是   | 人物简介 |
    | prompt     | string | 是   | 人物提示词 |
- **返回示例**：
```json
{
  "code": 0,
  "msg": "添加成功",
  "data": { /* 新增人物信息 */ }
}
```

### 2. 获取人物列表
- **路径**：`/api/person/list`
- **方法**：GET
- **描述**：获取所有已添加的人物列表。
- **请求参数**：无
- **返回示例**：
```json
{
  "code": 0,
  "msg": "success",
  "data": [ /* 人物数组 */ ]
}
```

---

## 聊天相关

### 3. 新建对话
- **路径**：`/api/chat/new`
- **方法**：POST
- **描述**：新建一轮对话。
- **请求参数（JSON 或表单）**：
    | 参数名   | 类型     | 必填 | 说明         |
    |--------|----------|------|--------------|
    | model  | string   | 是   | 使用的模型名 |
    | people | string[] | 是   | 人物姓名数组（1-5 个）|
- **返回示例**：
```json
{
  "code": 0,
  "msg": "新建对话成功",
  "chatID": "xxxx-xxxx-xxxx"
}
```

### 4. 获取情感
- **路径**：`/api/chat/emotion`
- **方法**：GET
- **描述**：获取当前对话的情感分析结果。
- **请求参数（Query）**：
    | 参数名 | 类型   | 必填 | 说明     |
    |--------|--------|------|----------|
    | chatID | string | 是   | 对话 ID  |
- **返回示例**：
```json
{
  "code": 0,
  "msg": "success",
  "data": { "人物名": 情感值, ... }
}
```

### 5. 聊天接口
- **路径**：`/api/chat/chat`
- **方法**：GET
- **描述**：进行一次聊天（SSE 事件流返回）。
- **请求参数（Query）**：
    | 参数名  | 类型   | 必填 | 说明     |
    |---------|--------|------|----------|
    | chatID  | string | 是   | 对话 ID  |
    | message | string | 是   | 用户输入 |
- **返回**：
  - SSE 事件流，每条消息格式：
```json
{
  "code": 0,
  "role": "人物名",
  "content": "回复内容"
}
```

---

## 模型管理

### 6. 获取模型列表
- **路径**：`/api/model/list`
- **方法**：GET
- **描述**：获取所有可用模型的列表。
- **请求参数**：无
- **返回示例**：
```json
{
  "code": 0,
  "msg": "success",
  "data": [ "模型名1", "模型名2", ... ]
}
```

---

> 注：如需详细的返回字段，请参考对应接口的实现代码或补充需求。 